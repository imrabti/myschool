<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"
             typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath"
             targetNamespace="http://www.activiti.org/test">
    <process id="testing" isExecutable="true">

        <startEvent id="starting"/>
        <sequenceFlow id="flow1" sourceRef="starting" targetRef="kechaTask"/>

        <userTask id="kechaTask" name="kecha task" activiti:assignee="${assignee}"/>
        <sequenceFlow id="flow2" sourceRef="kechaTask" targetRef="emailTask"/>

        <serviceTask id="emailTask" name="email" activiti:type="mail">
            <extensionElements>
                <activiti:field name="from" stringValue="activiti@myschool.com"/>
                <activiti:field name="to" expression="${email}"/>
                <activiti:field name="subject" expression="Activiti mail test"/>
                <activiti:field name="html">
                    <activiti:expression>
                        <![CDATA[
                            <html>
                                <body>
                                    Hello ,<br/><br/>
                                        bla bla bla test test variable =<b> ${key} </b>.<br/><br/>
                                    Kind regards,<br/>
                                </body>
                            </html>
                        ]]>
                    </activiti:expression>
                </activiti:field>
            </extensionElements>
        </serviceTask>

        <sequenceFlow id="flow3" sourceRef="emailTask" targetRef="ending"/>
        <endEvent id="ending"/>
    </process>
</definitions>
